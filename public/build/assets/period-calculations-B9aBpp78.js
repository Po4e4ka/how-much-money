import{p as d,e as D}from"./date-C0FYGyP5.js";const h=e=>`${Math.max(0,Math.round(e)).toLocaleString("ru-RU")} ₽`,p=e=>{const t=Math.round(e);return t===0?"0 ₽":`${t>0?"+":"−"}${Math.abs(t).toLocaleString("ru-RU")} ₽`},b=e=>{const t=e.replace(/\D/g,"");return t===""?"":Number(t)},S=e=>e===""?0:Number(e),k=e=>(e??[]).reduce((t,a)=>t+(Number(a.amount)||0),0),M=e=>{const t=(e??[]).reduce((n,o)=>n+(Number(o.plannedAmount)||0),0),a=(e??[]).reduce((n,o)=>n+(Number(o.actualAmount)||0),0);return{totalPlanned:t,totalActual:a,totalDifference:t-a}},N=e=>Object.values(e).reduce((t,a)=>t+(a||0),0),w=(e,t,a)=>{if(!e||!t)return 0;const n=d(e),o=d(t);if(!Number.isFinite(n.getTime())||!Number.isFinite(o.getTime()))return 0;let s=0;const r=new Date(n);for(;r<=o;){const c=D(r);a[c]!==void 0&&(s+=1),r.setDate(r.getDate()+1)}return s},x=e=>{const{days:t,totalIncome:a,totalPlannedExpenses:n,totalDifference:o,totalDailyExpenses:s,filledDays:r}=e,c=a-n,m=t>0?c/t:0,u=c+o-s,l=Math.max(0,t-r),i=l>0?u/l:0,y=t>0&&r>=t;return{plannedPeriodSum:c,dailyAverage:m,actualRemaining:u,remainingDays:l,remainingDailyAverage:i,isDailyComplete:y}},T=e=>e.filter(t=>t.name.trim()===""&&t.amount!=="").map(t=>t.id),v=e=>{const t=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],a=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=(e.getDay()+6)%7;return`${t[o]}, ${a}.${n}`},g=(e,t)=>{const a=new Date(e);return a.setDate(a.getDate()+t),a},A=(e,t)=>{const a=d(e),n=d(t),o=[];let s=new Date(a);for(;s<=n;){const r=[],m=(7-s.getDay())%7,u=Math.floor((n.getTime()-s.getTime())/(1e3*60*60*24)),l=g(s,Math.min(m,u));let i=new Date(s);for(;i<=l;)r.push(new Date(i)),i=g(i,1);o.push(r),s=g(l,1)}return o},I=(e,t)=>{const a=e.reduce((s,r)=>s+(t[D(r)]||0),0),n=e.filter(s=>t[D(s)]!==void 0).length,o=n>0?a/n:0;return{total:a,filledDays:n,average:o}};export{h as a,p as b,I as c,M as d,k as e,v as f,A as g,N as h,w as i,T as j,x as k,S as l,b as t};
