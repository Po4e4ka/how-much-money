import{c as j,j as s,L as k}from"./app-BVWgSHzr.js";import{P as w}from"./pill-button-DWNTtgFR.js";const N=h=>{const e=Math.round(h);return e===0?"0 ₽":`${e>0?"+":"−"}${Math.abs(e).toLocaleString("ru-RU")} ₽`},R=h=>{const e=j.c(22),{href:n,title:l,subtitle:i,isClosed:a,actualRemaining:r,elementRef:c}=h,t=a===void 0?!1:a,g=`rounded-[28px] border bg-white/70 p-5 text-left shadow-[0_20px_40px_-26px_rgba(28,26,23,0.6)] transition hover:-translate-y-0.5 dark:bg-white/10 ${t?"border-[#1e7b4f]/40 dark:border-[#7ce0b3]/40":"border-black/10 dark:border-white/10"}`;let d;e[0]!==l?(d=s.jsx("h3",{className:"font-display text-xl",children:l}),e[0]=l,e[1]=d):d=e[1];let o;e[2]!==i?(o=s.jsx("p",{className:"mt-1 text-xs text-[#6a5d52] dark:text-white/70",children:i}),e[2]=i,e[3]=o):o=e[3];let x;e[4]!==r||e[5]!==t?(x=t&&typeof r=="number"&&s.jsxs("p",{className:"mt-2 text-xs text-[#1e7b4f] dark:text-[#7ce0b3]",children:["Факт. остаток: ",N(r)]}),e[4]=r,e[5]=t,e[6]=x):x=e[6];let f;e[7]!==d||e[8]!==o||e[9]!==x?(f=s.jsxs("div",{className:"min-w-[180px]",children:[d,o,x]}),e[7]=d,e[8]=o,e[9]=x,e[10]=f):f=e[10];let m;e[11]!==t?(m=t&&s.jsx("div",{className:"flex-1 text-center text-xs uppercase tracking-[0.2em] text-[#1e7b4f] dark:text-[#7ce0b3]",children:"Период закрыт"}),e[11]=t,e[12]=m):m=e[12];let u;e[13]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(w,{as:"span",className:"bg-white/80 text-[#1c1a17] dark:bg-white/10 dark:text-white",children:"Открыть период"}),e[13]=u):u=e[13];let b;e[14]!==f||e[15]!==m?(b=s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[f,m,u]}),e[14]=f,e[15]=m,e[16]=b):b=e[16];let p;return e[17]!==c||e[18]!==n||e[19]!==g||e[20]!==b?(p=s.jsx(k,{ref:c,href:n,prefetch:!0,className:g,children:b}),e[17]=c,e[18]=n,e[19]=g,e[20]=b,e[21]=p):p=e[21],p},v=h=>{const e=j.c(9),{items:n,baseHref:l,itemHref:i}=h;let a;if(e[0]!==l||e[1]!==i||e[2]!==n){let c;e[4]!==l||e[5]!==i?(c=t=>s.jsx(R,{href:i?.(t)??`${l??"/periods"}/${t.id}`,title:t.title,subtitle:t.subtitle,isClosed:t.isClosed,actualRemaining:t.actualRemaining,elementRef:t.elementRef},t.id),e[4]=l,e[5]=i,e[6]=c):c=e[6],a=n.map(c),e[0]=l,e[1]=i,e[2]=n,e[3]=a}else a=e[3];let r;return e[7]!==a?(r=s.jsx("div",{className:"grid gap-4",children:a}),e[7]=a,e[8]=r):r=e[8],r};export{v as P};
