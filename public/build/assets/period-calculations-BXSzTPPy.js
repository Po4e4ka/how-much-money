import{p as m,e as f}from"./date-C0FYGyP5.js";const S=e=>`${Math.max(0,Math.round(e)).toLocaleString("ru-RU")} ₽`,M=e=>{const t=Math.round(e);return t===0?"0 ₽":`${t>0?"+":"−"}${Math.abs(t).toLocaleString("ru-RU")} ₽`},k=e=>{const t=e.replace(/\D/g,"");return t===""?"":Number(t)},x=e=>e===""?0:Number(e),N=e=>(e??[]).reduce((t,n)=>t+(Number(n.amount)||0),0),w=e=>{const t=(e??[]).reduce((a,s)=>a+(Number(s.plannedAmount)||0),0),n=(e??[]).reduce((a,s)=>a+(Number(s.actualAmount)||0),0);return{totalPlanned:t,totalActual:n,totalDifference:t-n}},T=e=>Object.values(e).reduce((t,n)=>t+(n||0),0),v=(e,t,n)=>{if(!e||!t)return 0;const a=m(e),s=m(t);if(!Number.isFinite(a.getTime())||!Number.isFinite(s.getTime()))return 0;let o=0;const r=new Date(a);for(;r<=s;){const u=f(r);n[u]!==void 0&&(o+=1),r.setDate(r.getDate()+1)}return o},A=e=>{const{days:t,totalIncome:n,totalPlannedExpenses:a,totalDifference:s,totalUnforeseenAllocated:o,totalUnforeseenSpent:r,totalDailyExpenses:u,filledDays:i}=e,d=Math.max(0,r-o),c=n-a-o,l=t>0?c/t:0,y=c+s-u-d,g=Math.max(0,t-i),h=g>0?y/g:0,p=t>0&&i>=t;return{plannedPeriodSum:c,dailyAverage:l,actualRemaining:y,unforeseenOverrun:d,remainingDays:g,remainingDailyAverage:h,isDailyComplete:p}},I=e=>e.filter(t=>t.name.trim()===""&&t.amount!=="").map(t=>t.id),$=e=>{const t=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],n=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),s=(e.getDay()+6)%7;return`${t[s]}, ${n}.${a}`},D=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},O=(e,t)=>{const n=m(e),a=m(t),s=[];let o=new Date(n);for(;o<=a;){const r=[],i=(7-o.getDay())%7,d=Math.floor((a.getTime()-o.getTime())/(1e3*60*60*24)),c=D(o,Math.min(i,d));let l=new Date(o);for(;l<=c;)r.push(new Date(l)),l=D(l,1);s.push(r),o=D(c,1)}return s},E=(e,t)=>{const n=e.reduce((o,r)=>o+(t[f(r)]||0),0),a=e.filter(o=>t[f(o)]!==void 0).length,s=a>0?n/a:0;return{total:n,filledDays:a,average:s}};export{S as a,N as b,E as c,x as d,M as e,$ as f,O as g,w as h,T as i,v as j,I as k,A as l,k as t};
